# AES实现
AES为分组密码，本次实现的是AES128，即128bit长为一个分组。加密轮数为10轮。本次实验采用ECB工作模式。
# 单次加密具体步骤
## 字节代换
字节代换即一个查表操作，将一个字节通过s盒，替换成新字节
## 行移位
循环左移，状态矩阵parray，第0行左移0字节，第1行左移1字节，第2行左移2字节，第3行左移3字节。
## 列混合
将状态矩阵与固定的矩阵c相乘，得到混淆后的状态矩阵。注意乘法和加法都是定义再GF(2^8)上的二元运算。
## 密钥扩展
AES将初始密钥输入到4*4的状态矩阵中，矩阵中每一列4字节组成一个字，矩阵4列的4个字分别命名为W[0]，W[1]，W[2]，W[3]。对W数组扩充为40个新列。

新列以如下的递归方式产生： 

1）i如果不是4的倍数，那么第i列由如下等式确定： 

 W[i]=W[i-4]⊕W[i-1]
 
2）如果i是4的倍数，那么第i列由如下等式确定： 

W[i]=W[i-4]⊕g(W[i-1])

3）g函数步骤：

字循环：将1个字中的4个字节循环左移1个字节。 

字节代换：对字循环的结果使用s盒进行字节代换。 

轮常量异或：将前两步的结果同轮常量Rcon[j]进行异或，其中j表示轮数。

## 最终加密
前九轮实现字节代换、行移位、列混合、轮密钥加，最后一轮不需要实现列混合。

# ECB加密
先将明文分成16字节为一组的小块，分别对每块进行加密，最终拼接在一起，不足16字节的用0填充。

# AES解密
AES解密流程和加密流程都差不多。注意需要将扩展密钥倒着取出。流程依次是逆向行移位、逆向字节代替、轮密钥加、逆向列混合。重复10轮，最后一轮不需要逆向列混淆。

# 运行结果
![image](https://github.com/hhh0125/-/assets/139990267/af934385-381a-4a43-9a35-fe9988d0dfa0)
